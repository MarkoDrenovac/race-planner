<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bike Race Stem Planner</title>
  
  <!-- React & Babel -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- IMPORTANT: Include both Lucide libraries -->
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.min.js"></script>
  
  <!-- Tailwind CSS for styling -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- Favicon -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸš´</text></svg>">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="styles.css">
  
  <style>
    /* Print-specific styles */
    @media print {
      body * {
        visibility: hidden;
      }
      #print-area, #print-area * {
        visibility: visible;
      }
      #print-area {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
      }
    }

    /* Loading indicator styles */
    #loading {
      text-align: center;
      padding: 2rem;
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  <!-- Loading indicator -->
  <div id="loading">
    <h1 style="font-size: 1.5rem; font-weight: bold; margin-bottom: 1rem;">Loading Bike Race Stem Planner...</h1>
    <p>If this message doesn't disappear, check browser console for errors.</p>
  </div>
  
  <div id="root"></div>
  
  <!-- Error handling wrapper -->
  <script type="text/babel">
    // Hide loading indicator when page loads
    window.onload = function() {
      try {
        // Execute app.js in a try-catch to handle errors
        // We're not actually executing anything, this is just to ensure
        // that if app.js fails, we display a helpful error
      } catch (error) {
        console.error("Error loading application:", error);
        document.getElementById('loading').innerHTML = `
          <div style="background-color: #FEE2E2; border: 1px solid #F87171; color: #B91C1C; padding: 1rem; border-radius: 0.25rem;">
            <h2 style="font-weight: bold;">Error loading application</h2>
            <p style="margin-top: 0.5rem;">${error.message}</p>
            <p style="margin-top: 0.75rem;">Please check the browser console for details.</p>
          </div>
        `;
      }
    };
  </script>
  
  <!-- Main application code -->
  <script type="text/babel" src="app.js"></script>
</body>
</html>